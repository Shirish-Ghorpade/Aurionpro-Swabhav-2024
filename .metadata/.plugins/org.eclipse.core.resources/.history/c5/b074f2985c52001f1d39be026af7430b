package com.aurionpro.model;

import static org.junit.jupiter.api.Assertions.assertDoesNotThrow;
import static org.junit.jupiter.api.Assertions.assertFalse;
import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.util.List;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import javafx.util.Pair;

public class TicTacToeFacadeTest {
	private TicTacToeFacade facade;

	@BeforeEach
	void setUp() {
		facade = new TicTacToeFacade(3);
	}

	@Test
	void TestInitialization() {
		facade.initializeGame();
		assertNotNull(facade);
	}

	@Test
	void testStartGame() {
		facade.initializeGame();
		String result = facade.startGame();
		assertNotNull(result);
	}

	@Test
	void testPrintBoard() {
		facade.initializeGame();
		assertDoesNotThrow(() -> facade.printBoard());
	}

	@Test
	void testFreeCalls() {
		facade.initializeGame();
		List<Pair<Integer, Integer>> freeCells = facade.getFreeCells();
		assertNotNull(freeCalls);
		assertFalse(freeCalls.isEmpty());
	}

	@Test
	void testAddPiece() {
		facade.initializeGame();
		facade.startGame();
		Player player = new Player("Test Player", new PlayingPieceX());
		System.out.println(facade.getFreeCalls());
		assertTrue(facade.addPiece(1, 1, player));
		assertFalse(facade.addPiece(1, 1, player));
	}

}
